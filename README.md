# pygptcourse

Face detection, tracking using USB missile launcher and RaspberryPi camera module to demonstrate how ChatGPT can speed up development and writing clean and SOLID code.

## Documentation generated for missile.py by ChatGPT

The following documentation was 95% generated by ChatGPT after copy/pasting the missile.py code
To see the prompts used, see <https://chat.openai.com/share/7c34e6f7-6709-49c6-bdfa-7e869563e47b>

## PyMissile Launcher

This repository contains Python code for controlling a missile launcher using the PyUSB library. The code allows you to move the launcher in different directions, stop its movement, and fire missiles.

## Requirements

- Python 3.x
- PyUSB library
- Poetry > 1.5.X

## Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/gshiva/pygptcourse.git
   ```

1. Install the required dependencies:

   ```bash
   # if poetry is not installed
   # curl -sSL https://install.python-poetry.org | python3 -
   poetry install
   ```

   1. For running under Windows:
   Most likely you will run into `No backend available` errors.

   ```bash
      raise NoBackendError('No backend available')
      usb.core.NoBackendError: No backend available
   ```

   Follow the instructions in [AdaFruit's instruction for fixing `no backend error`](https://learn.adafruit.com/circuitpython-on-any-computer-with-ft232h/windows#test-pyusb-and-pyftdi-3041697). It invovles downloading [libusb](https://sourceforge.net/projects/libusb/) and copying it to `C:\Windows\System32\` directory.

1. Connect the missile launcher via USB.

## Usage

To use the missile launcher, execute the `missile.py` script. Make sure you have sufficient permissions to access USB devices.

```bash
sudo poetry run python missile.py
```

The launcher can be controlled using the following commands:

- Move Up: `u`
- Move Down: `d`
- Stop: `s`
- Move Left: `l`
- Move Right: `r`
- Fire: `f`

Enter the command followed by a delay (in seconds) to control the launcher's movements. For example, to move the launcher to the right for 2 seconds, use the command `r 2`. To fire a missile, use the command `f`.

The launcher's current state is displayed as a prompt, indicating the availability of movement options. For example, if the launcher is capable of moving left and right, the prompt will show `L R` as options.

**Handling Limits:**

The missile launcher has certain limits in its movement range. The program detects these limits and handles them appropriately. The limits and their respective time limits are as follows:

- `RIGHT_LIMIT`: The launcher has reached the rightmost limit. The maximum time to move from right to left is approximately 26 seconds.
- `LEFT_LIMIT`: The launcher has reached the leftmost limit. The maximum time to move from left to right is approximately 26 seconds.
- `UP_LIMIT`: The launcher has reached the uppermost limit. The maximum time to move from up to down is approximately 4 seconds.
- `DOWN_LIMIT`: The launcher has reached the lowermost limit. The maximum time to move from down to up is approximately 4 seconds.
- `FIRE_COMPLETED`: A previous fire command has been completed.

When any of these limits are reached, the program takes the following actions:

- If the launcher is commanded to move in a direction that corresponds to a limit, the program sends a `STOP` command to halt the movement.
- If a fire command has been completed (`FIRE_COMPLETED` is `True`), the program waits for 1 second and sends a `STOP` command to reset the launcher.

Example usage:

```bash
L R U D F>> r 26
Sending command r
... (launcher moves to the right for approximately 26 seconds)
All the way right. Sending STOP
```

To quit the program, enter `quit`.

## Troubleshooting

If you encounter any issues with the USB device, try detaching the kernel driver before using the launcher:

```python
launcher.detach_kernel_driver()
```

## Credits

This code is based on the original source available at [https://github.com/hovren/pymissile](https://github.com/hovren/pymissile).

## License

This project is licensed under the [Apache License 2.0](LICENSE).
